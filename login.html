<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Login - Controlada</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Rubik:wght@400;500;700;900&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="assets/css/style.css">
    <link rel="stylesheet" href="assets/css/login.css">
    <script src="assets/config/app-config.js"></script>
    <script src="assets/js/backend-service.js"></script>
</head>
<body class="login-body">
    <div class="login-atmosphere" aria-hidden="true">
        <span class="orb orb-1"></span>
        <span class="orb orb-2"></span>
        <span class="orb orb-3"></span>
        <span class="grid-pattern"></span>
    </div>

    <main class="login-shell">
        <div class="login-card" role="presentation">
            <section class="card-illustration" aria-labelledby="login-hero-title">

                <div class="brand-pill" aria-label="Controlada">
                    <img src="assets/images/logo.png" alt="Logo da Controlada" class="logo-pill-img">

                </div>
                <h1 id="login-hero-title">Controle suas finanças com leveza</h1>
                <p class="hero-subtitle">Transforme números em decisões inteligentes com uma experiência moderna e envolvente como a do painel principal.</p>

                <div class="hero-highlights" role="list">
                    <article class="highlight-card" role="listitem">
                        <span class="highlight-icon" aria-hidden="true">📊</span>
                        <div>
                            <h2>Dashboard vibrante</h2>
                            <p>Visualize seus gastos, metas e sobras do mês em cards cheios de energia.</p>
                        </div>
                    </article>
                    <article class="highlight-card" role="listitem">
                        <span class="highlight-icon" aria-hidden="true">⚡</span>
                        <div>
                            <h2>Fluxo inteligente</h2>
                            <p>Cadastre-se em minutos e mantenha seus dados sincronizados em qualquer dispositivo.</p>
                        </div>
                    </article>
                </div>

                <div class="hero-metrics" aria-label="Indicadores do app">
                    <div class="metric-chip">
                        <span class="metric-icon" aria-hidden="true">💰</span>
                        Insights financeiros em tempo real
                    </div>
                    <div class="metric-chip">
                        <span class="metric-icon" aria-hidden="true">🛡️</span>
                        Segurança e privacidade garantidas
                    </div>
                </div>
            </section>

            <section class="card-form" aria-labelledby="login-title">
                <header class="form-header">
                    <span class="form-badge">Acesso seguro</span>
                    <h2 id="login-title">Entre na sua conta</h2>
                    <p>Continue a acompanhar seu orçamento personalizado com toda a elegância do Controlada.</p>
                </header>

                <form id="login-form" class="auth-form" novalidate aria-describedby="login-feedback">
                    <div class="form-group">
                        <label for="usuario">Usuário</label>
                        <div class="input-wrapper">
                            <span class="input-icon" aria-hidden="true">👤</span>
                            <input type="text" id="usuario" name="usuario" placeholder="Digite seu usuário" required
                                   autocomplete="username" aria-describedby="usuario-hint login-feedback">
                        </div>
                        <p class="field-hint" id="usuario-hint">Digite o mesmo nome de usuário utilizado no cadastro.</p>
                    </div>
                    <div class="form-group">
                        <label for="senha">Senha</label>
                        <div class="input-wrapper">
                            <span class="input-icon" aria-hidden="true">🔒</span>
                            <input type="password" id="senha" name="senha" placeholder="Informe sua senha" required
                                   autocomplete="current-password" aria-describedby="senha-hint login-feedback">
                        </div>
                        <p class="field-hint" id="senha-hint">Sua senha deve ter pelo menos 6 caracteres.</p>
                    </div>
                    <div id="login-feedback" class="form-feedback" role="alert" aria-live="assertive" hidden></div>
                    <button type="submit" class="primary-btn">Entrar</button>
                </form>

                <p class="toggle-info">Não tem uma conta? <a href="#" id="mostrar-cadastro" class="toggle-link">Cadastre-se gratuitamente</a></p>

                <form id="cadastro-form" class="auth-form" style="display:none;" novalidate aria-describedby="cadastro-feedback">
                    <div class="form-group">
                        <label for="nome-completo">Nome completo</label>
                        <div class="input-wrapper">
                            <span class="input-icon" aria-hidden="true">🧑‍💼</span>
                            <input type="text" id="nome-completo" name="nome-completo" placeholder="Seu nome e sobrenome" required
                                   autocomplete="name" aria-describedby="nome-hint cadastro-feedback">
                        </div>
                        <p class="field-hint" id="nome-hint">Informe seu nome completo como deseja ver nos relatórios.</p>
                    </div>
                    <div class="form-group">
                        <label for="email-cadastro">E-mail</label>
                        <div class="input-wrapper">
                            <span class="input-icon" aria-hidden="true">✉️</span>
                            <input type="email" id="email-cadastro" name="email-cadastro" placeholder="nome@email.com" required
                                   autocomplete="email" aria-describedby="email-hint cadastro-feedback">
                        </div>
                        <p class="field-hint" id="email-hint">Utilize um endereço válido para recuperar a conta futuramente.</p>
                    </div>
                    <div class="form-group">
                        <label for="telefone-cadastro">Telefone (opcional)</label>
                        <div class="input-wrapper">
                            <span class="input-icon" aria-hidden="true">📱</span>
                            <input type="tel" id="telefone-cadastro" name="telefone-cadastro" placeholder="(00) 00000-0000"
                                   autocomplete="tel" inputmode="tel" aria-describedby="telefone-hint cadastro-feedback">
                        </div>
                        <p class="field-hint" id="telefone-hint">Opcional: informe um telefone para receber alertas financeiros.</p>
                    </div>
                    <div class="form-group">
                        <label for="novo-usuario">Nome de usuário</label>
                        <div class="input-wrapper">
                            <span class="input-icon" aria-hidden="true">🏷️</span>
                            <input type="text" id="novo-usuario" name="novo-usuario" minlength="3" maxlength="30" placeholder="Crie um usuário" required
                                   autocomplete="username" aria-describedby="novo-usuario-hint cadastro-feedback">
                        </div>
                        <p class="field-hint" id="novo-usuario-hint">Use letras e números para criar um identificador único.</p>
                    </div>
                    <div class="form-group">
                        <label for="nova-senha">Senha</label>
                        <div class="input-wrapper">
                            <span class="input-icon" aria-hidden="true">🔑</span>
                            <input type="password" id="nova-senha" name="nova-senha" minlength="6" placeholder="Mínimo de 6 caracteres" required
                                   autocomplete="new-password" aria-describedby="nova-senha-hint cadastro-feedback">
                        </div>
                        <p class="field-hint" id="nova-senha-hint">Crie uma senha com ao menos 6 caracteres, misturando letras e números.</p>
                    </div>
                    <div class="form-group">
                        <label for="confirmar-senha">Confirmar senha</label>
                        <div class="input-wrapper">
                            <span class="input-icon" aria-hidden="true">✅</span>
                            <input type="password" id="confirmar-senha" name="confirmar-senha" minlength="6" placeholder="Repita sua senha" required
                                   autocomplete="new-password" aria-describedby="confirmar-senha-hint cadastro-feedback">
                        </div>
                        <p class="field-hint" id="confirmar-senha-hint">Repita a mesma senha para confirmar que não houve erros de digitação.</p>
                    </div>
                    <div class="form-group">
                        <label for="renda-base">Renda mensal base</label>
                        <div class="input-wrapper">
                            <span class="input-icon" aria-hidden="true">💵</span>
                            <input type="number" step="0.01" min="0" id="renda-base" name="renda-base" placeholder="0,00"
                                   inputmode="decimal" autocomplete="transaction-amount" aria-describedby="renda-hint cadastro-feedback">
                        </div>
                        <p class="field-hint" id="renda-hint">Informe sua renda base para personalizar o painel financeiro.</p>
                    </div>
                    <div class="form-group">
                        <label for="inicio-mes">Dia de início do ciclo financeiro</label>
                        <div class="input-wrapper">
                            <span class="input-icon" aria-hidden="true">📅</span>
                            <input type="number" id="inicio-mes" name="inicio-mes" min="1" max="31" value="1"
                                   inputmode="numeric" autocomplete="off" aria-describedby="inicio-hint cadastro-feedback">
                        </div>
                        <p class="field-hint" id="inicio-hint">Escolha o dia em que seu orçamento mensal é reiniciado.</p>
                    </div>
                    <div class="form-group">
                        <label for="tema-preferido">Tema preferido</label>
                        <div class="input-wrapper select-wrapper">
                            <span class="input-icon" aria-hidden="true">🌓</span>
                            <select id="tema-preferido" name="tema-preferido">
                                <option value="light">Claro</option>
                                <option value="dark">Escuro</option>
                            </select>
                        </div>
                    </div>
                    <div id="cadastro-feedback" class="form-feedback" role="alert" aria-live="assertive" hidden></div>
                    <button type="submit" class="primary-btn">Cadastrar</button>
                    <button type="button" id="voltar-login" class="ghost-btn">Voltar para login</button>
                </form>
            </section>
        </div>
    </main>

    <script src="assets/js/storage.js"></script>
    <script src="assets/js/login.js"></script>
</body>
</html>
